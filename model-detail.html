<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Model Details - Volt China</title>
    <link rel="stylesheet" href="css/style.css">
    <style>.video-container { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; background: #000; margin-bottom: 2rem; border-radius: var(--border-radius); } .video-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }</style>
</head>
<body data-page-key="page_title_model_detail">
    <header>
        <!-- Header is the same -->
        <div class="container"><nav><a href="index.html" class="logo" style="text-decoration: none; color: inherit;"><span data-i18n="site_logo">China EV Intelligence</span></a><ul class="nav-links"><li><a href="index.html" data-i18n="nav_home">Home</a></li><li><a href="intelligence.html" data-i18n="nav_intelligence">Intelligence</a></li><li><a href="database.html" data-i18n="nav_database">Focused Database</a></li><li><a href="pricing.html" data-i18n="nav_pricing">Pricing</a></li><li><a href="about.html" data-i18n="nav_about">About</a></li></ul><div class="nav-actions"><button class="lang-toggle" data-i18n="nav_language">English</button><button class="login-btn" data-i18n="login_btn">Login</button></div></nav></div>
    </header>
    <main>
        <div class="page-content" style="display: block;">
            <div class="container" id="detail-content-container">
                <p id="loading-message" data-i18n="model_detail_loading">Loading model data...</p>
            </div>
        </div>
    </main>
    <footer>
        <!-- Footer is the same -->
        <div class="container"><ul class="footer-links"><li><a href="about.html" data-i18n="footer_about">About Us</a></li><li><a href="contact.html" data-i18n="footer_contact">Contact</a></li><li><a href="#" data-i18n="footer_privacy">Privacy Policy</a></li><li><a href="#" data-i18n="footer_terms">Terms of Service</a></li></ul><p class="copyright" data-i18n="footer_copyright">Â© 2025 China EV Intelligence. All rights reserved.</p></div>
    </footer>

    <script src="js/translations.js"></script>
    <script src="js/main.js"></script>

    <script>
    // **RESTORED TO ORIGINAL LOGIC**
    document.addEventListener('DOMContentLoaded', () => {
        const contentContainer = document.getElementById('detail-content-container');
        const urlParams = new URLSearchParams(window.location.search);
        const modelId = urlParams.get('id');
        let modelData = null;

        function renderModelDetails(model, trans) {
            // RESTORED: Directly access original English properties from JSON
            document.title = `${model.brand} ${model.model_name} - Volt China`;
            let videoSection = '';
            if (model.youtube_id && model.youtube_id.trim() !== '') {
                videoSection = `<div class="detail-section"><h3 class="section-heading">${trans.model_detail_video_review}</h3><div class="video-container"><iframe src="https://www.youtube.com/embed/${model.youtube_id}" frameborder="0" allowfullscreen></iframe></div></div>`;
            }

            const detailHTML = `
                <a href="database.html" class="back-button">${trans.model_detail_back_btn}</a>
                <div class="model-detail">
                    <div class="detail-header">
                        <h2 class="detail-title">${model.brand} ${model.model_name}</h2>
                        <p class="detail-subtitle">${model.subtitle}</p>
                        <div class="model-status">${model.status}</div>
                    </div>
                    <div class="detail-image" style="background-image: url('${model.image_detail}');"></div>
                    <div class="detail-content">
                        ${videoSection}
                        <div class="ceo-note">
                            <h3>${trans.model_detail_ceo_note}</h3><p>${model.ceo_note}</p>
                            <div class="author-byline"><img src="images/leon.jpg" alt="Leon" class="author-avatar"><div class="author-info"><strong>${trans.model_detail_author_byline_1}</strong><span>${trans.model_detail_author_byline_2}</span></div></div>
                        </div>
                        <div class="detail-section"><h3 class="section-heading">${trans.model_detail_key_specs}</h3><div class="specs-grid"><div class="spec-card"><div class="spec-name">${trans.model_detail_spec_range}</div><div class="spec-value">${model.key_specs.range_cltc}</div></div><div class="spec-card"><div class="spec-name">${trans.model_detail_spec_accel}</div><div class="spec-value">${model.key_specs.zero_to_100}</div></div><div class="spec-card"><div class="spec-name">${trans.model_detail_spec_power}</div><div class="spec-value">${model.key_specs.power_kw}</div></div><div class="spec-card"><div class="spec-name">${trans.model_detail_spec_battery_cap}</div><div class="spec-value">${model.key_specs.battery_kwh}</div></div><div class="spec-card"><div class="spec-name">${trans.model_detail_spec_price}</div><div class="spec-value">${model.key_specs.price_usd_estimated}</div></div></div></div>
                        <div class="detail-section"><h3 class="section-heading">${trans.model_detail_full_specs}</h3><div class="specs-grid"><div class="spec-card"><div class="spec-name">${trans.model_detail_spec_dims}</div><div class="spec-value">${model.full_specs.dimensions}</div></div><div class="spec-card"><div class="spec-name">${trans.model_detail_spec_wheelbase}</div><div class="spec-value">${model.full_specs.wheelbase}</div></div><div class="spec-card"><div class="spec-name">${trans.model_detail_spec_powertrain}</div><div class="spec-value">${model.full_specs.powertrain}</div></div><div class="spec-card"><div class="spec-name">${trans.model_detail_spec_battery}</div><div class="spec-value">${model.full_specs.battery}</div></div><div class="spec-card"><div class="spec-name">${trans.model_detail_spec_charging}</div><div class="spec-value">${model.full_specs.charging}</div></div><div class="spec-card"><div class="spec-name">${trans.model_detail_spec_adas}</div><div class="spec-value">${model.full_specs.adas}</div></div></div></div>
                        <div class="detail-section"><h3 class="section-heading">${trans.model_detail_market_plan}</h3><div class="specs-grid"><div class="spec-card"><div class="spec-name">${trans.model_detail_spec_launch_cn}</div><div class="spec-value">${model.market_plan.china_launch}</div></div><div class="spec-card"><div class="spec-name">${trans.model_detail_spec_launch_global}</div><div class="spec-value">${model.market_plan.global_rollout}</div></div></div></div>
                    </div>
                </div>
            `;
            contentContainer.innerHTML = detailHTML;
        }

        fetch('data/models.json').then(res => res.json()).then(models => { modelData = models.find(m => m.id === modelId); });
        
        document.addEventListener('languageUpdated', event => {
            if (modelData) { renderModelDetails(modelData, event.detail.translations); }
        });
    });
    </script>
</body>
</html>